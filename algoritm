
созадется кипер
создается хранилище карт
меин (кипер, хранилище карт)
{
	(вайл)
		поиск пути
		добавить в хранилище мап (поиск от финиша)
			если удаляется свзяь
				уровень + 1 в храналище карт
					меин(кипером без этой связи)
}

добавление комнат в очередь
{
пока у комнаты некст лин не равно НУЛЛ
	линк = комната из кипера от рум-линкс
	если у этой комнаты путь не ЮЗД
		если имя линка == финишу
			ретурн 1
		если линк не виситед
			добавляю ее в очередь
	линк = лину-линус-некс
ретурн 0
}

поиск пути
{
создать копию копиии кипера 1
создаю новую очередь
ФУНК добавление комнат в очередь (подаю старт)
	если финиш сразу в линках то запуск поиск от финиша
предыдущая комната = старт
While (очередь не пуста)
	беру первую комнату из очереди
	назначаю ей предыдущю комнату
	если я не был в этой комнате
		помечаю её посещенной
		ФУНК добавление комнат в очередь
	предыдущая комната = текущая комната
финиша не найдено
}

поиск от финиша
{
создаю мапу
назанчает ей уровень
беру финиш
беру ПК
пока (ПК != старт)
	помещаю в мапу ПК
	помечаю путь к ПК как ЮЗД в основной кипер
	беру ПК у ПК
помещаю в мапу ПК
возвращаю мапу
}

после того, как все пути на карте найдены
удаление перемычек (принимает копию 1 и оригинал)
{
	при нахождении перемычек удаляет их из оригинала
}

Кипер

копия1 кипер

	поиск пути (принмает копию 1)
	Копия2 создается на копии1
	использует копию2 метит ее как виситед

	поиск от финиша (принимает копию2, копию1)
		использщует копию2 для алгорима
			метит копию 1 как ЮЗД

	удаление перемычек (принимает оригинал, копию1)
	испльзуюя копию1 находит перемучки и удаляет их в оригинале